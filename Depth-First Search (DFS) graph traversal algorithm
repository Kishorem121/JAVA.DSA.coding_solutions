import java.util.*;
public class Main {

         public static void dfs( List<List<Integer>> graph,boolean [] visited,int startVertex){
             visited[startVertex]=true;
             System.out.println(startVertex);
             for(int neighbour:graph.get(startVertex)){
                 
             if(!visited[neighbour]){
             dfs(graph,visited,neighbour);
             }
         }
         }
        public static void main(String[] args){
            
        Scanner sc=new Scanner(System.in);
        System.out.println("Enter vertices:");
        int vertices=sc.nextInt();
        System.out.println("Enter edges:");
        int edges=sc.nextInt();
        List<List<Integer>>graph=new  ArrayList<>();
        for(int i=0;i<vertices;i++){
            graph.add(new ArrayList<>());
        }
            for(int i=0;i<edges;i++){
                int u=sc.nextInt();
                int v=sc.nextInt();
                graph.get(u).add(v);
                graph.get(v).add(u);
            }
        
    System.out.println("Enter start value:");
    int startVertex=sc.nextInt();
    sc.close();
    boolean [] visited = new boolean[vertices];
    System.out.println("After DFS");
    dfs(graph,visited,startVertex);
}
}
